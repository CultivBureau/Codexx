<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Codex Genetic Analysis Report</title>
    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- Google Fonts: Inter -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
    <!-- Lucide Icons -->
    <script src="https://unpkg.com/lucide@latest"></script>
    <!-- HTML to Canvas for capturing visual layout -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/html2canvas/1.4.1/html2canvas.min.js"></script>

    <!-- Custom CSS -->
    <link rel="stylesheet" href="User_page.css">
</head>
<body class="p-4 sm:p-8">

<!-- Splash Screen -->
<div id="splash-screen" class="splash-screen">
    <div class="splash-content">
        <div class="flex items-center justify-center space-x-3 mb-4">
            <div class="w-12 h-0.5 bg-gradient-to-r from-transparent via-green-500 to-green-600"></div>
            <h1 class="text-4xl lg:text-6xl font-black bg-gradient-to-r from-green-600 via-emerald-600 to-green-700 bg-clip-text text-transparent tracking-tight">
                Welcome to Codex World
            </h1>
            <div class="w-12 h-0.5 bg-gradient-to-l from-transparent via-green-500 to-green-600"></div>
        </div>
        <div class="progress-bar mt-8">
            <div id="progress-bar-inner" class="progress-bar-inner"></div>
        </div>
    </div>
</div>

<!-- Main Content -->
<div id="main-content" class="main-content hidden">
    <div class="max-w-7xl mx-auto space-y-8">
        <!-- Header Card -->
<div class="bg-gradient-to-br from-white via-blue-50 to-indigo-50 rounded-2xl shadow-xl border border-blue-100 overflow-hidden hover:shadow-2xl transition-all duration-500">
    <!-- Header Container -->
    <div class="flex flex-col lg:flex-row items-stretch min-h-[120px]">
      <!-- Left Section: Patient Info -->
      <div class="flex-1 p-4 lg:p-6 bg-gradient-to-r from-transparent to-blue-50/30">
        <div class="h-full flex flex-col justify-center">
          <!-- Patient Information Grid -->
          <div class="grid grid-cols-1 sm:grid-cols-2 gap-3">
            <!-- Patient Name -->
            <div class="group">
              <p
                class="text-xs font-medium text-gray-500 uppercase tracking-wide mb-1 flex items-center"
              >
                <img
                  src="icons/name.svg"
                  alt="Patient"
                  class="w-3 h-3 mr-2 opacity-60"
                />
                Patient
              </p>
              <p
                class="text-sm font-semibold text-gray-800 group-hover:text-green-600 transition-colors"
                id="patient-name"
              >
                
              </p>
            </div>

            <!-- Patient ID -->
            <div class="group">
              <p
                class="text-xs font-medium text-gray-500 uppercase tracking-wide mb-1 flex items-center"
              >
                <img
                  src="icons/id.svg"
                  alt="Patient ID"
                  class="w-4 h-4 mr-2 opacity-60"
                />
                Patient ID
              </p>
              <p
                class="text-sm font-mono font-medium text-gray-800 break-all group-hover:text-green-600 transition-colors"
                id="patient-id"
              >
                
              </p>
            </div>

            <!-- Phone -->
            <div class="group">
              <p
                class="text-xs font-medium text-gray-500 uppercase tracking-wide mb-1 flex items-center"
              >
                <img
                  src="icons/phone.svg"
                  alt="Phone"
                  class="w-3 h-3 mr-2 opacity-60"
                />
                Phone
              </p>
              <p
                class="text-sm font-medium text-gray-800 group-hover:text-green-600 transition-colors"
                id="patient-phone"
              >
                
              </p>
            </div>

            <!-- Report Date -->
            <div class="group">
              <p
                class="text-xs font-medium text-gray-500 uppercase tracking-wide mb-1 flex items-center"
              >
                <img
                  src="icons/date.svg"
                  alt="Report Date"
                  class="w-3 h-3 mr-2 opacity-60"
                />
                Report Date
              </p>
              <p
                class="text-sm font-medium text-gray-800 group-hover:text-green-600 transition-colors"
                id="report-date"
              >
                
              </p>
            </div>
          </div>
        </div>
      </div>

      <!-- Center Section: Main Title (Focused) -->
      <div
        class="flex-shrink-0 bg-gradient-to-br from-green-50 to-emerald-50 px-12 py-6 lg:py-8 flex flex-col justify-center items-center text-center border-l border-r border-gray-100 min-w-[300px]"
      >
        <div class="space-y-3">
          <!-- Main Brand Title -->
          <div class="flex items-center justify-center space-x-3">
            <div
              class="w-12 h-0.5 bg-gradient-to-r from-transparent via-green-500 to-green-600"
            ></div>
            <h1
              class="text-4xl lg:text-5xl font-black bg-gradient-to-r from-green-600 via-emerald-600 to-green-700 bg-clip-text text-transparent tracking-tight"
            >
              Codex
            </h1>
            <div
              class="w-12 h-0.5 bg-gradient-to-l from-transparent via-green-500 to-green-600"
            ></div>
          </div>

          <!-- Subtitle -->
          <h2
            class="text-lg lg:text-xl font-semibold text-gray-700 leading-tight"
          >
            Genetic Analysis Report
          </h2>

          <!-- Decorative DNA Symbol -->
          <div class="flex justify-center">
            <div
              class="w-8 h-8 bg-gradient-to-br from-green-100 to-green-200 rounded-full flex items-center justify-center"
            >
              <i data-lucide="dna" class="w-4 h-4 text-green-600"></i>
            </div>
          </div>
        </div>
      </div>

      <!-- Right Section: Download Button -->
      <div
        class="flex-1 p-6 lg:p-8 flex flex-col justify-center items-center space-y-4"
      >
        <!-- Download Button -->
        <button
          onclick="saveTestResultsAsPDF()"
          id="download-results-btn"
          class="group bg-gradient-to-r from-green-600 via-green-700 to-emerald-700 hover:from-green-700 hover:via-green-800 hover:to-emerald-800 text-white px-8 py-4 rounded-xl flex items-center space-x-3 transition-all duration-300 shadow-lg hover:shadow-xl transform hover:-translate-y-1 active:translate-y-0 active:scale-95"
        >
          <i
            data-lucide="download"
            class="w-6 h-6 group-hover:animate-bounce"
          ></i>
          <span class="font-semibold text-base">Download Results</span>
        </button>

        <!-- Status Indicator -->
        <div class="flex items-center space-x-2 text-sm text-gray-600">
          <div
            class="w-2 h-2 bg-green-500 rounded-full animate-pulse"
          ></div>
          <span>Report Ready</span>
        </div>
      </div>
    </div>

    <!-- Bottom Accent Line -->
    <div
      class="h-1 bg-gradient-to-r from-green-500 via-emerald-500 to-green-600"
    ></div>
  </div>

        <!-- Navigation Tabs -->
        <div id="nav-tabs" class="bg-gradient-to-r from-white via-gray-50 to-white p-4 rounded-2xl shadow-xl border border-gray-100 hover:shadow-2xl transition-all duration-500">
            <div class="flex flex-wrap justify-center gap-2 sm:gap-3">
                <button data-tab="complex" class="tab-inactive px-4 sm:px-6 py-3 rounded-xl text-sm sm:text-base font-medium transition-all duration-300">
                    <i data-lucide="activity" class="w-4 h-4 inline-block mr-2"></i>
                    <span class="hidden sm:inline">GENETIC SUSCEPTIBILITY TO HEALTH DISORDERS</span>
                    <span class="sm:hidden">Complex</span>
                </button>
                <button data-tab="monogenic" class="tab-inactive px-4 sm:px-6 py-3 rounded-xl text-sm sm:text-base font-medium transition-all duration-300">
                    <i data-lucide="dna" class="w-4 h-4 inline-block mr-2"></i>
                    <span class="hidden sm:inline">FAMILIAL GENETIC CONDITIONS</span>
                    <span class="sm:hidden">Monogenic</span>
                </button>
                <button data-tab="pharma" class="tab-inactive px-4 sm:px-6 py-3 rounded-xl text-sm sm:text-base font-medium transition-all duration-300">
                    <i data-lucide="pill" class="w-4 h-4 inline-block mr-2"></i>
                    <span class="hidden sm:inline">Pharmacogenomics</span>
                    <span class="sm:hidden">Pharma</span>
                </button>
                <button data-tab="traits" class="tab-active px-4 sm:px-6 py-3 rounded-xl text-sm sm:text-base font-medium transition-all duration-300">
                    <i data-lucide="user-check" class="w-4 h-4 inline-block mr-2"></i>
                    <span class="hidden sm:inline">Personal Traits</span>
                    <span class="sm:hidden">Traits</span>
                </button>
                <button data-tab="wellness" class="tab-inactive px-4 sm:px-6 py-3 rounded-xl text-sm sm:text-base font-medium transition-all duration-300">
                    <i data-lucide="heart-pulse" class="w-4 h-4 inline-block mr-2"></i>
                    <span>Wellness</span>
                </button>
                <button data-tab="comprehensive" class="tab-inactive px-4 sm:px-6 py-3 rounded-xl text-sm sm:text-base font-medium transition-all duration-300">
                    <i data-lucide="lightbulb" class="w-4 h-4 inline-block mr-2"></i>
                    <span class="hidden sm:inline">Lifestyle</span>
                    <span class="sm:hidden">Lifestyle</span>
                </button>
            </div>
        </div>

        <!-- Content Panels -->
        <div id="content-panels">
            <!-- Personal Traits Panel -->
            <div id="traitsContent" class="bg-gradient-to-br from-white via-blue-50/30 to-indigo-50/30 rounded-2xl shadow-xl border border-blue-100 p-6 relative overflow-hidden">
                <!-- Background decoration -->
                <div class="absolute top-0 right-0 w-32 h-32 bg-gradient-to-br from-blue-100/30 to-transparent rounded-full -translate-y-16 translate-x-16"></div>
                <div class="absolute bottom-0 left-0 w-24 h-24 bg-gradient-to-tr from-indigo-100/30 to-transparent rounded-full translate-y-12 -translate-x-12"></div>
                
                <div class="relative z-10">
                    <h2 class="text-2xl font-bold text-gray-800 flex items-center mb-6">
                        <div class="p-2 bg-gradient-to-br from-blue-500 to-indigo-600 rounded-xl mr-3 shadow-lg">
                            <i data-lucide="user-check" class="w-6 h-6 text-white"></i>
                        </div>
                        Personal Traits
                    </h2>
                    <div class="grid grid-cols-1 md:grid-cols-3 gap-6">
                    <div class="md:col-span-1 space-y-4">
                        <!-- Search Input -->
                        <div class="relative">
                                <input type="text" id="traits-search" placeholder="Search traits..." class="w-full pl-12 pr-4 py-3 border border-gray-200 rounded-xl bg-white/80 backdrop-blur-sm focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all duration-300 shadow-sm">
                                <i data-lucide="search" class="absolute left-4 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400"></i>
                            </div>
                            <div id="traits-list" class="h-[800px] overflow-y-auto pr-2 space-y-2 bg-white/50 rounded-xl p-3 backdrop-blur-sm border border-gray-100"></div>
                        </div>
                        <div id="traits-details" class="md:col-span-2 bg-white/60 rounded-xl p-4 backdrop-blur-sm border border-gray-100"></div>
                    </div>
                </div>
            </div>

            <!-- Wellness Panel -->
            <div id="wellnessContent" class="hidden bg-gradient-to-br from-white via-emerald-50/30 to-green-50/30 rounded-2xl shadow-xl border border-emerald-100 p-6 relative overflow-hidden">
                <!-- Background decoration -->
                <div class="absolute top-0 right-0 w-32 h-32 bg-gradient-to-br from-emerald-100/30 to-transparent rounded-full -translate-y-16 translate-x-16"></div>
                <div class="absolute bottom-0 left-0 w-24 h-24 bg-gradient-to-tr from-green-100/30 to-transparent rounded-full translate-y-12 -translate-x-12"></div>
                
                <div class="relative z-10">
                    <h2 class="text-2xl font-bold text-gray-800 flex items-center mb-6">
                        <div class="p-2 bg-gradient-to-br from-emerald-500 to-green-600 rounded-xl mr-3 shadow-lg">
                            <i data-lucide="heart-pulse" class="w-6 h-6 text-white"></i>
                        </div>
                        Wellness
                    </h2>
                    <div class="grid grid-cols-1 md:grid-cols-3 gap-6">
                    <div class="md:col-span-1 space-y-4">
                        <!-- Search Input -->
                        <div class="relative">
                                <input type="text" id="wellness-search" placeholder="Search wellness..." class="w-full pl-12 pr-4 py-3 border border-gray-200 rounded-xl bg-white/80 backdrop-blur-sm focus:ring-2 focus:ring-emerald-500 focus:border-emerald-500 transition-all duration-300 shadow-sm">
                                <i data-lucide="search" class="absolute left-4 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400"></i>
                            </div>
                            <div id="wellness-list" class="h-[800px] overflow-y-auto pr-2 space-y-2 bg-white/50 rounded-xl p-3 backdrop-blur-sm border border-gray-100"></div>
                        </div>
                        <div id="wellness-details" class="md:col-span-2 bg-white/60 rounded-xl p-4 backdrop-blur-sm border border-gray-100"></div>
                    </div>
                </div>
            </div>
            
            <!-- Complex Diseases Panel -->
            <div id="complexContent" class="hidden bg-gradient-to-br from-white via-red-50/30 to-rose-50/30 rounded-2xl shadow-xl border border-red-100 p-6 relative overflow-hidden">
                <!-- Background decoration -->
                <div class="absolute top-0 right-0 w-32 h-32 bg-gradient-to-br from-red-100/30 to-transparent rounded-full -translate-y-16 translate-x-16"></div>
                <div class="absolute bottom-0 left-0 w-24 h-24 bg-gradient-to-tr from-rose-100/30 to-transparent rounded-full translate-y-12 -translate-x-12"></div>
                
                <div class="relative z-10">
                    <h2 class="text-2xl font-bold text-gray-800 flex items-center mb-6">
                        <div class="p-2 bg-gradient-to-br from-red-500 to-rose-600 rounded-xl mr-3 shadow-lg">
                            <i data-lucide="activity" class="w-6 h-6 text-white"></i>
                        </div>
                        GENETIC SUSCEPTIBILITY TO HEALTH DISORDERS
                    </h2>
                    <div class="grid grid-cols-1 md:grid-cols-3 gap-6">
                    <div class="md:col-span-1 space-y-4">
                        <!-- Search Input -->
                        <div class="relative">
                                <input type="text" id="complex-search" placeholder="Search genetic susceptibility..." class="w-full pl-12 pr-4 py-3 border border-gray-200 rounded-xl bg-white/80 backdrop-blur-sm focus:ring-2 focus:ring-red-500 focus:border-red-500 transition-all duration-300 shadow-sm">
                                <i data-lucide="search" class="absolute left-4 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400"></i>
                            </div>
                            <div id="complex-list" class="h-[800px] overflow-y-auto pr-2 space-y-2 bg-white/50 rounded-xl p-3 backdrop-blur-sm border border-gray-100"></div>
                        </div>
                        <div id="complex-details" class="md:col-span-2 bg-white/60 rounded-xl p-4 backdrop-blur-sm border border-gray-100"></div>
                    </div>
                </div>
            </div>

            <!-- Monogenic Diseases Panel -->
            <div id="monogenicContent" class="hidden bg-gradient-to-br from-white via-purple-50/30 to-violet-50/30 rounded-2xl shadow-xl border border-purple-100 p-6 relative overflow-hidden">
                <!-- Background decoration -->
                <div class="absolute top-0 right-0 w-32 h-32 bg-gradient-to-br from-purple-100/30 to-transparent rounded-full -translate-y-16 translate-x-16"></div>
                <div class="absolute bottom-0 left-0 w-24 h-24 bg-gradient-to-tr from-violet-100/30 to-transparent rounded-full translate-y-12 -translate-x-12"></div>
                
                <div class="relative z-10">
                    <h2 class="text-2xl font-bold text-gray-800 flex items-center mb-6">
                        <div class="p-2 bg-gradient-to-br from-purple-500 to-violet-600 rounded-xl mr-3 shadow-lg">
                            <i data-lucide="dna" class="w-6 h-6 text-white"></i>
                        </div>
                        FAMILIAL GENETIC CONDITIONS
                    </h2>
                    <div class="grid grid-cols-1 md:grid-cols-3 gap-6">
                    <div class="md:col-span-1 space-y-4">
                        <!-- Search Input -->
                        <div class="relative">
                                <input type="text" id="monogenic-search" placeholder="Search familial conditions..." class="w-full pl-12 pr-4 py-3 border border-gray-200 rounded-xl bg-white/80 backdrop-blur-sm focus:ring-2 focus:ring-purple-500 focus:border-purple-500 transition-all duration-300 shadow-sm">
                                <i data-lucide="search" class="absolute left-4 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400"></i>
                            </div>
                            <div id="monogenic-list" class="h-[800px] overflow-y-auto pr-2 space-y-2 bg-white/50 rounded-xl p-3 backdrop-blur-sm border border-gray-100"></div>
                        </div>
                        <div id="monogenic-details" class="md:col-span-2 bg-white/60 rounded-xl p-4 backdrop-blur-sm border border-gray-100"></div>
                    </div>
                </div>
            </div>

            <!-- Pharmacogenomics Panel -->
            <div id="pharmaContent" class="hidden bg-gradient-to-br from-white via-orange-50/30 to-amber-50/30 rounded-2xl shadow-xl border border-orange-100 p-6 relative overflow-hidden">
                <!-- Background decoration -->
                <div class="absolute top-0 right-0 w-32 h-32 bg-gradient-to-br from-orange-100/30 to-transparent rounded-full -translate-y-16 translate-x-16"></div>
                <div class="absolute bottom-0 left-0 w-24 h-24 bg-gradient-to-tr from-amber-100/30 to-transparent rounded-full translate-y-12 -translate-x-12"></div>
                
                <div class="relative z-10">
                    <h2 class="text-2xl font-bold text-gray-800 flex items-center mb-6">
                        <div class="p-2 bg-gradient-to-br from-orange-500 to-amber-600 rounded-xl mr-3 shadow-lg">
                            <i data-lucide="pill" class="w-6 h-6 text-white"></i>
                        </div>
                        Pharmacogenomics
                    </h2>
                    <div class="grid grid-cols-1 md:grid-cols-3 gap-6">
                    <div class="md:col-span-1 space-y-4">
                        <!-- Search Input -->
                        <div class="relative">
                                <input type="text" id="pharma-search" placeholder="Search pharmacogenomics..." class="w-full pl-12 pr-4 py-3 border border-gray-200 rounded-xl bg-white/80 backdrop-blur-sm focus:ring-2 focus:ring-orange-500 focus:border-orange-500 transition-all duration-300 shadow-sm">
                                <i data-lucide="search" class="absolute left-4 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400"></i>
                            </div>
                            <div id="pharma-list" class="h-[600px] overflow-y-auto pr-2 space-y-2 bg-white/50 rounded-xl p-3 backdrop-blur-sm border border-gray-100"></div>
                        </div>
                        <div id="pharma-details" class="md:col-span-2 bg-white/60 rounded-xl p-4 backdrop-blur-sm border border-gray-100"></div>
                    </div>
                </div>
            </div>
            
            <!-- Comprehensive Lifestyle Recommendations Panel -->
            <div id="comprehensiveContent" class="hidden bg-gradient-to-br from-white via-indigo-50/30 to-purple-50/30 rounded-2xl shadow-xl border border-indigo-100 p-6 relative overflow-hidden">
                <!-- Background decoration -->
                <div class="absolute top-0 right-0 w-32 h-32 bg-gradient-to-br from-indigo-100/30 to-transparent rounded-full -translate-y-16 translate-x-16"></div>
                <div class="absolute bottom-0 left-0 w-24 h-24 bg-gradient-to-tr from-purple-100/30 to-transparent rounded-full translate-y-12 -translate-x-12"></div>
                
                <div class="relative z-10">
                    <div class="text-center mb-6">
                        <div class="flex justify-center mb-4">
                        </div>
                        <h2 class="text-3xl font-bold text-gray-800 mb-2">Your Personalized Lifestyle Plan</h2>
                        <p class="text-lg text-gray-600">Based on your genetic test results</p>
                    </div>
                    <div id="comprehensive-recommendations" class="space-y-6">
                        <div class="text-center py-8 bg-white/60 rounded-xl backdrop-blur-sm border border-gray-100">
                            <i data-lucide="heart" class="w-16 h-16 mx-auto mb-4 text-pink-500"></i>
                            <h3 class="text-lg font-semibold text-gray-800 mb-2">Analyzing Your Results...</h3>
                            <p class="text-gray-600 mb-4">Creating your personalized lifestyle plan based on your genetic profile</p>
                            <div class="animate-spin rounded-full h-8 w-8 border-b-2 border-pink-600 mx-auto"></div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<!-- Load Data First -->
<script src="Scripts/wellness_data.js"></script>
<script src="Scripts/traits_data.js"></script>
<script src="Scripts/monogenic_data.js"></script>
<script src="Scripts/complex_data.js"></script>
<script src="Scripts/pharma_data.js"></script>
<!-- Load Recommendation Engine -->
<script src="Scripts/recommendation_engine.js"></script>
<!-- Then Load Main Logic -->
<script src="Scripts/main_user_page.js"></script>
<!-- Patient Results Handler -->
<script src="patient_results_handler.js"></script>

<!-- Debug Script -->
<script>
console.log('=== DEBUGGING SCRIPT LOADING ===');
console.log('wellnessData available:', typeof wellnessData !== 'undefined');
console.log('traitsData available:', typeof traitsData !== 'undefined');
console.log('monogenicData available:', typeof monogenicData !== 'undefined');
console.log('complexData available:', typeof complexData !== 'undefined');
console.log('pharmaData available:', typeof pharmaData !== 'undefined');

if (typeof wellnessData !== 'undefined') {
    console.log('wellnessData length:', wellnessData.length);
    console.log('First wellness item:', wellnessData[0]);
}


</script>
</body>
</html>